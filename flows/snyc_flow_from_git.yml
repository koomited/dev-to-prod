id: snyc_flow_from_git
namespace: company.engineering

variables:
  gh_username: koomited
  gh_repo: https://github.com/koomited/dev-to-prod

tasks:
  - id: sync_flows
    type: io.kestra.plugin.git.SyncFlows
    username: "{{vars.gh_username}}"
    password: "{{secret('GITHUB_ACCESS_TOKEN')}}"
    url: "{{vars.gh_repo}}"
    branch: main
    targetNamespace: git
    gitDirectory: flows
    # includeChildNamespaces: true
    # commitMessage: add flows {{now()}}
    dryRun: true
    
